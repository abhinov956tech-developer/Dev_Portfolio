@tailwind base;
@tailwind components;
@tailwind utilities;

/* Cinematic design system with teal & orange palette */
@layer base {
  :root {
    --background: 210 30% 98%;
    --foreground: 222 84% 5%;

    --card: 0 0% 100%;
    --card-foreground: 222 84% 5%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 84% 5%;

    --primary: 188 85% 35%; /* teal */
    --primary-foreground: 0 0% 100%;

    --secondary: 24 95% 55%; /* orange */
    --secondary-foreground: 0 0% 10%;

    --muted: 210 20% 94%;
    --muted-foreground: 215 16% 46%;

    --accent: 24 95% 55%;
    --accent-foreground: 0 0% 10%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    --border: 214 32% 90%;
    --input: 214 32% 90%;
    --ring: 188 85% 35%;

    --radius: 0.75rem;

    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 222 84% 5%;
    --sidebar-primary: 188 85% 35%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 210 20% 94%;
    --sidebar-accent-foreground: 222 84% 5%;
    --sidebar-border: 214 32% 90%;
    --sidebar-ring: 188 85% 35%;

    /* Cinematic extras */
    --mask: 222 84% 5%;
    --gradient-hero: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--secondary)) 100%);
    --gradient-surface: linear-gradient(180deg, hsl(var(--card)) 0%, hsl(var(--muted)) 100%);
    --shadow-elevate: 0 10px 30px hsl(var(--primary) / 0.25);
  }

  .dark {
    --background: 222 84% 5%;
    --foreground: 0 0% 98%;

    --card: 222 70% 6.5%;
    --card-foreground: 0 0% 98%;

    --popover: 222 70% 6.5%;
    --popover-foreground: 0 0% 98%;

    --primary: 188 85% 45%;
    --primary-foreground: 222 84% 5%;

    --secondary: 24 95% 55%;
    --secondary-foreground: 222 84% 5%;

    --muted: 222 40% 12%;
    --muted-foreground: 215 20% 70%;

    --accent: 24 95% 55%;
    --accent-foreground: 222 84% 5%;

    --destructive: 0 62% 40%;
    --destructive-foreground: 0 0% 98%;

    --border: 222 40% 16%;
    --input: 222 40% 16%;
    --ring: 188 85% 45%;

    --sidebar-background: 222 70% 6.5%;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 188 85% 45%;
    --sidebar-primary-foreground: 222 84% 5%;
    --sidebar-accent: 222 40% 12%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 222 40% 16%;
    --sidebar-ring: 188 85% 45%;
  }
}

@layer base {
  * { @apply border-border; }
  html { scroll-behavior: smooth; }
  body { @apply bg-background text-foreground font-sans; }
}

@layer components {
  .bg-hero-gradient { background-image: var(--gradient-hero); }
  .bg-surface-gradient { background-image: var(--gradient-surface); }
  .vignette { position: absolute; inset: 0; pointer-events: none; box-shadow: inset 0 0 200px 80px hsl(var(--mask) / 0.8); }
  .film-card { @apply rounded-xl p-6 bg-card shadow hover:shadow-lg transition-transform duration-300; transform-style: preserve-3d; }
  .poster-card { @apply relative rounded-xl overflow-hidden bg-card shadow-lg; perspective: 1000px; }
  .poster-image { @apply w-full h-[420px] object-cover transition-transform duration-500; }
  .poster-card:hover .poster-image { transform: rotateY(6deg) scale(1.03); }
  .poster-overlay { @apply absolute inset-0 p-6 flex items-end bg-gradient-to-t from-background/90 via-background/30 to-transparent opacity-0 transition-opacity duration-300; }
  .poster-card:hover .poster-overlay { @apply opacity-100; }
  .btn-hero { background: var(--gradient-hero); color: hsl(var(--primary-foreground)); box-shadow: var(--shadow-elevate); }
  .hover-shake { animation: none; }
  .hover-shake:hover { animation: shake 0.4s ease-in-out both; }
  .rain-overlay { position: absolute; inset: 0; background-image: repeating-linear-gradient(120deg, hsl(var(--mask) / 0.0) 0 2px, hsl(var(--mask) / 0.08) 2px 3px); background-size: 300% 300%; animation: rain 18s linear infinite; pointer-events: none; }
  .perspective { perspective: 800px; }
  .shutter { overflow: hidden; max-height: 0; transition: max-height 0.6s ease; }
  .shutter.open { max-height: 160px; animation: shutterOpen 0.6s ease; }
}

@layer utilities {
  .story-link { position: relative; display: inline-block; }
  .story-link::after { content: ""; position: absolute; left: 0; bottom: -2px; width: 100%; height: 2px; background: hsl(var(--primary)); transform: scaleX(0); transform-origin: 100% 100%; transition: transform 300ms; }
  .story-link:hover::after { transform: scaleX(1); transform-origin: 0 100%; }
}

/* Keyframes */
@keyframes shake { 10%, 90% { transform: translateX(-1px) } 20%, 80% { transform: translateX(2px) } 30%, 50%, 70% { transform: translateX(-4px) } 40%, 60% { transform: translateX(4px) } }
@keyframes rain { from { background-position: 0 0; } to { background-position: 200% 200%; } }
@keyframes shutterOpen { 0% { clip-path: inset(50% 0 50% 0); } 100% { clip-path: inset(0 0 0 0); } }
